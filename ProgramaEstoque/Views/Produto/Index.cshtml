@model List<ProgramaEstoque.Models.ProdutoModel>

@{
    ViewData["Title"] = "Produtos";
}

<div class="container text-center">
    <div class="row">
        <div class="offset-3 col-6">
            <form asp-controller="Produto" asp-action="ConfirmarCadastro">
                <label for="nome_produto">Nome do produto</label><br />
                <input type="text" class="form-control" name="nome" id="nome_produto" autocomplete="off" required>

                <label for="valor_produto">Valor do produto</label><br />
                <input type="text" class="form-control" name="preco" id="valor_produto" autocomplete="off" required>

                <label for="quantidade_produto">Quantidade do produto</label><br />
                <select class="form-select" name="quantidade" required>
                    @for (int i = 0; i<= 99; i++)
                    {
                        <option value="@i">@i</option>
                    }
                </select>
                <br />
                <button type="submit" class="btn btn-primary">Cadastrar Produto</button>
            </form>
        </div>
    </div>
    <br />
    <br />
    <div class="row">
        <div class="col-12">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Quantidade</th>
                        <th>Preço</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var produto in Model)
                    {
                        if (produto.Quantidade > 0)
                        {
                            <tr>
                                <td>@produto.Nome</td>
                                <td>@produto.Quantidade Unidades</td>
                                <td>R$@produto.Preco</td>
                                <td>
                                    <div role="group" class="btn-group">
                                        <form asp-controller="Produto" asp-action="EditarProduto">
                                            <input type="hidden" name="cd_produto" value="@produto.Id" />
                                            <button type="submit" class="btn btn-secondary">Editar</button>
                                        </form>
                                        <form asp-controller="Produto" asp-action="ConfirmarRemover">
                                            <input type="hidden" name="cd_produto" value="@produto.Id" />
                                            <button type="submit" class="btn btn-danger">Remover</button>
                                        </form>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <br />
    <br />
    <br />
    <div class="row">
        <div class="col-12">
            <table class="table table-danger">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Quantidade</th>
                        <th>Preço</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var produto in Model)
                    {
                        if (produto.Quantidade == 0)
                        {
                            <tr>
                                <td>@produto.Nome</td>
                                <td>@produto.Quantidade Unidades</td>
                                <td>R$@produto.Preco</td>
                                <td>
                                    <div role="group" class="btn-group">
                                        <form asp-controller="Produto" asp-action="EditarProduto">
                                            <input type="hidden" name="cd_produto" value="@produto.Id" />
                                            <button type="submit" class="btn btn-secondary">Editar</button>
                                        </form>
                                        <form asp-controller="Produto" asp-action="ConfirmarRemover">
                                            <input type="hidden" name="cd_produto" value="@produto.Id" />
                                            <button type="submit" class="btn btn-danger">Remover</button>
                                        </form>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
